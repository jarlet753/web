<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Pro Dashboard</title>
<style>
  body {
    margin: 0;
    padding: 0;
    background: #0d1117;
    color: #e6edf3;
    font-family: "Segoe UI", sans-serif;
  }
  header {
    text-align: center;
    padding: 30px;
    background: #161b22;
    border-bottom: 2px solid #21262d;
  }
  header h1 {
    font-size: 2em;
    margin: 0;
    color: #58a6ff;
  }
  section {
    max-width: 1100px;
    margin: 40px auto;
    padding: 0 20px;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 20px;
  }
  .card {
    background: #161b22;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 0 15px rgba(88,166,255,0.1);
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .value {
    font-size: 1.3em;
    font-weight: bold;
    margin-top: 10px;
    color: #58a6ff;
  }
  .label {
    font-size: 0.85em;
    color: #8b949e;
  }

  /* Ping Bar */
  .ping-bar {
    position: relative;
    width: 100%;
    height: 14px;
    border-radius: 7px;
    background: #30363d;
    overflow: hidden;
    margin-top: 10px;
  }
  .ping-fill {
    height: 100%;
    width: 0%;
    background: #3fb950;
    transition: width 0.5s ease;
  }
  .ping-refresh {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(255,255,255,0.2);
    opacity: 0;
  }
  .ping-refresh.flash {
    animation: flash 0.6s;
  }
  @keyframes flash {
    0% { opacity: 0.7; }
    100% { opacity: 0; }
  }

  /* Device Orientation (3D-Würfel) */
  .cube-container {
    width: 100px;
    height: 100px;
    perspective: 600px;
  }
  .cube {
    width: 100%;
    height: 100%;
    position: relative;
    transform-style: preserve-3d;
    transform: rotateX(0deg) rotateY(0deg);
    transition: transform 0.2s linear;
  }
  .cube div {
    position: absolute;
    width: 100px;
    height: 100px;
    background: rgba(88,166,255,0.7);
    border: 2px solid #58a6ff;
  }
  .front  { transform: rotateY(0deg) translateZ(50px); }
  .back   { transform: rotateY(180deg) translateZ(50px); }
  .left   { transform: rotateY(-90deg) translateZ(50px); }
  .right  { transform: rotateY(90deg) translateZ(50px); }
  .top    { transform: rotateX(90deg) translateZ(50px); }
  .bottom { transform: rotateX(-90deg) translateZ(50px); }
</style>
</head>
<body>
<header>
  <h1>System Dashboard</h1>
</header>

<section>
  <div class="card"><span class="label">Zeit</span><span id="time" class="value"></span></div>
  <div class="card"><span class="label">Zeitzone</span><span id="timezone" class="value"></span></div>
  <div class="card"><span class="label">Betriebssystem</span><span id="os" class="value"></span></div>
  <div class="card"><span class="label">Browser</span><span id="browser" class="value"></span></div>
  <div class="card"><span class="label">CPU Kerne</span><span id="cpu" class="value"></span></div>
  <div class="card"><span class="label">RAM</span><span id="ram" class="value"></span></div>
  <div class="card"><span class="label">Bildschirm</span><span id="screen" class="value"></span></div>
  <div class="card"><span class="label">Viewport</span><span id="viewport" class="value"></span></div>
  <div class="card"><span class="label">Netzwerktyp</span><span id="netType" class="value"></span></div>
  <div class="card"><span class="label">RTT</span><span id="rtt" class="value"></span></div>
  <div class="card"><span class="label">IP</span><span id="ip" class="value"></span></div>
  <div class="card">
    <span class="label">Ping</span>
    <span id="ping" class="value"></span>
    <div class="ping-bar">
      <div id="pingFill" class="ping-fill"></div>
      <div id="pingFlash" class="ping-refresh"></div>
    </div>
  </div>
  <div class="card">
    <span class="label">Ausrichtung</span>
    <div class="cube-container">
      <div class="cube" id="cube">
        <div class="front"></div>
        <div class="back"></div>
        <div class="left"></div>
        <div class="right"></div>
        <div class="top"></div>
        <div class="bottom"></div>
      </div>
    </div>
  </div>
</section>

<script>
// Zeit
function updateTime() {
  document.getElementById("time").textContent = new Date().toLocaleTimeString();
}
setInterval(updateTime, 1000); updateTime();
document.getElementById("timezone").textContent = Intl.DateTimeFormat().resolvedOptions().timeZone;

// System Infos
document.getElementById("os").textContent = navigator.platform;
document.getElementById("browser").textContent = navigator.userAgent.split(") ").pop();
document.getElementById("cpu").textContent = navigator.hardwareConcurrency || "?";
document.getElementById("ram").textContent = navigator.deviceMemory ? navigator.deviceMemory + " GB" : "?";
document.getElementById("screen").textContent = `${screen.width}x${screen.height}`;
document.getElementById("viewport").textContent = `${innerWidth}x${innerHeight}`;

// Netzwerk
if (navigator.connection) {
  document.getElementById("netType").textContent = navigator.connection.effectiveType || "-";
  document.getElementById("rtt").textContent = navigator.connection.rtt + " ms";
} else {
  document.getElementById("netType").textContent = "?";
  document.getElementById("rtt").textContent = "?";
}

// IP
fetch("https://api.ipify.org?format=json")
  .then(r => r.json())
  .then(d => document.getElementById("ip").textContent = d.ip)
  .catch(()=> document.getElementById("ip").textContent = "?");

// Ping mit Animation
async function measurePing() {
  let flash = document.getElementById("pingFlash");
  flash.classList.add("flash");
  setTimeout(()=>flash.classList.remove("flash"), 600);

  try {
    let t1 = performance.now();
    await fetch("https://www.google.com", {mode:"no-cors"});
    let t2 = performance.now();
    let ping = (t2 - t1).toFixed(1);
    document.getElementById("ping").textContent = ping + " ms";
    document.getElementById("pingFill").style.width = Math.min(ping,100) + "%";
    document.getElementById("pingFill").style.background = ping > 100 ? "#f85149" : "#3fb950";
  } catch {
    document.getElementById("ping").textContent = "Fehler";
    document.getElementById("pingFill").style.width = "0%";
  }
}
setInterval(measurePing, 8000);
measurePing();

// Device Orientation → Cube drehen
window.addEventListener("deviceorientation", e => {
  let cube = document.getElementById("cube");
  let x = e.beta || 0;  // front-back
  let y = e.gamma || 0; // left-right
  cube.style.transform = `rotateX(${-x}deg) rotateY(${y}deg)`;
});
</script>
</body>
</html>
